<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test026.html</title>

<style type="text/css">
	* {font-family : 맑은 고딕; font-weight: bold;}
	td {text-align: right;}
</style>

<script type="text/javascript">

   function actionCal()
   {
      // 테스트
      // alert("함수 호출 확인");
      
      // 입력 받은 년/월 변수에 담기
      var year = parseInt(document.getElementById("txtYear").value);
      var month = parseInt(document.getElementById("txtMonth").value);
      var nMonth = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);
      var tableNode = document.getElementById("calendatTbl"); // 테이블노드
      

      
      var nalsuY = (year-1)*365;
      var nalsuM = 0;
      if ((year%4==0 && year%100!=0) || year%400==0)
      {
    	  nMonth[1] = 29;
    	  for (var i=0; i<month-1; i++)
    		  nalsuM += parseInt(nMonth[i]);
    	  
      }
      else
      {
    	   for (var i=0; i<month-1; i++)
    	      nalsuM += parseInt(nMonth[i]);
      }
      
      var nalsu = parseInt(nalsuY) + parseInt(nalsuM); 
      // alert(nalsu);
      
      
      // 1일 요일 구하기
      var yoyil = nalsu%7;
      // alert(yoyil);      
      
      var lastDay = nMonth[month-1];
      alert(lastDay);
      
      
      var trNode = document.createElement("tr"); 
      
      var tdNode1 = document.createElement("td");      // <td></td>
      var nameNode = document.createTextNode(day);
      
      // 첫날 시작전에 채우기
      for(var i=0; i<yoyil; i++)
      {
    	  trNode.appendChild(createTdNode(""));
      }	
      
      // 1일부터 말일까지..
      var day = 1;
      for (var day=0; day<lastday; day++)
    	  trNode.appendChild(createTdNode(day));
   }
   
   function createTdNode(val)
   {
	   var textNode = document.createTextNode(val);
	   var tdNotd = document.createElement("td");
	   tdNode.appentChild(textNode);
	   
	   return tdNode;
   }
</script>


</head>
<body>

<div>
   <h1>테이블 동적 생성으로 만년달력 그리기</h1>
   <hr>
</div>

<div>
   <form>
      <input type="text" id="txtYear" class="txt" style="width: 67px"> 년
      <input type="text" id="txtMonth" class="txt" style="width: 67px"> 월
      <br><br>
      
      <button type="button" class="btn" style="width: 200px;" onclick="actionCal()">만년달력 그리기</button>
      <br><br>
      
      <table border="1" id="calendarTbl">
         <tr>
            <th>일</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th>토</th>
         </tr>
      </table>
      
   </form>
</div>

</body>
</html>